<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>杨彦星</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="人一切的痛苦，本质上都是对自己的无能的愤怒">
<meta property="og:type" content="website">
<meta property="og:title" content="杨彦星">
<meta property="og:url" content="http://www.yangyanxing.com/page/7/index.html">
<meta property="og:site_name" content="杨彦星">
<meta property="og:description" content="人一切的痛苦，本质上都是对自己的无能的愤怒">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="杨彦星">
<meta name="twitter:description" content="人一切的痛苦，本质上都是对自己的无能的愤怒">
    

    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">

    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                
                <span class="site-title">杨彦星</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/.">首页</a>
                
                    <a class="main-nav-link" href="/archives">归档</a>
                
                    <a class="main-nav-link" href="/categories">分类</a>
                
                    <a class="main-nav-link" href="/tags">标签</a>
                
                    <a class="main-nav-link" href="http://yangyanxing.lofter.com">时光</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/1.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/.">首页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="/categories">分类</a></td>
                
                    <td><a class="main-nav-link" href="/tags">标签</a></td>
                
                    <td><a class="main-nav-link" href="http://yangyanxing.lofter.com">时光</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/1.jpg" />
            <h2 id="name">杨彦星</h2>
            <h3 id="title">自由翱翔的天空</h3>
            <span id="location"><i class="fa fa-map-marker"></i>BeiJing, China</span>
            <a id="follow" target="_blank" href="http://github.com/kevinkelin">关注我</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                204
                <span>文章</span>
            </div>
            <div class="article-info-block">
                18
                <span>标签</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    
                    <td>
                        
                        <a href="mailto:admin@yangyanxing.com" target="_blank" title="Email" class=tooltip>
                            <i class="fa fa-envelope"></i>
                        </a>
                        
                    </td>
                    
                    
                    <td>
                        
                        <a href="http://weibo.com/kevinkelin" target="_blank" title="weibo" class=tooltip>
                            <i class="fa fa-weibo"></i>
                        </a>
                        
                    </td>
                    
                    
                    <td>
                        
                        <a href="http://github.com/kevinkelin" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                        
                    </td>
                    
                    
                    <td>
                        
                        <a href="http://twitter.com/yangyanxing" target="_blank" title="twitter" class=tooltip>
                            <i class="fa fa-twitter"></i>
                        </a>
                        
                    </td>
                    
                    
                    <td>
                        
                        <a href="http://www.facebook.com/yangyanxing" target="_blank" title="facebook" class=tooltip>
                            <i class="fa fa-facebook"></i>
                        </a>
                        
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>

            
            <section id="main">
    <article id="post-874" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/874.html" target="_blank" >python解析json</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/874.html">
            <time datetime="2013-08-27T17:23:05.000Z" itemprop="datePublished">2013-08-28</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p>相对于python解析XML来说，我还是比较喜欢json的格式返回，现在一般的api返回都会有json与XML格式的选择，json的解析起来个人觉得相对简单些</p>
<p>先看一个简单的豆瓣的图书查询的api返回</p>
            <p class="article-more-link">
                <a href="/article/874.html#more">查看更多</a>
            </p>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/874.html" data-id="civwnhxjc003r9kfggrgliboo" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/874.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/874.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-872" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/872.html" target="_blank" >Python解析XML文档</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/872.html">
            <time datetime="2013-08-27T16:32:24.000Z" itemprop="datePublished">2013-08-28</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>, <a class="tag-link" href="/tags/xml/">xml</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p>解析XML主要用到pytohn自带的XML库，其次还是lxml库</p>
<h1 id="XML结构"><a href="#XML结构" class="headerlink" title="XML结构"></a>XML结构</h1><p>先以一个相对简单但功能比较全的XML文档为例<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version='1.0' encoding='utf-8'?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">feed</span> <span class="attr">xmlns</span>=<span class="string">'http://www.w3.org/2005/Atom'</span> <span class="attr">xml:lang</span>=<span class="string">'en'</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>dive into mark<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">subtitle</span>&gt;</span>currently between addictions<span class="tag">&lt;/<span class="name">subtitle</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">id</span>&gt;</span>tag:diveintomark.org,2001-07-29:/<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">updated</span>&gt;</span>2009-03-27T21:56:07Z<span class="tag">&lt;/<span class="name">updated</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'alternate'</span> <span class="attr">type</span>=<span class="string">'text/html'</span> <span class="attr">href</span>=<span class="string">'http://diveintomark.org/'</span>/&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">entry</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">author</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Mark<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://diveintomark.org/<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">author</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Dive into history, 2009 edition<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'alternate'</span> <span class="attr">type</span>=<span class="string">'text/html'</span></div><div class="line">      <span class="attr">href</span>=<span class="string">'http://diveintomark.org/archives/2009/03/27/dive-into-history-2009-edition'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>tag:diveintomark.org,2009-03-27:/archives/20090327172042<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">updated</span>&gt;</span>2009-03-27T21:56:07Z<span class="tag">&lt;/<span class="name">updated</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">published</span>&gt;</span>2009-03-27T17:20:42Z<span class="tag">&lt;/<span class="name">published</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'diveintopython'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'docbook'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'html'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">summary</span> <span class="attr">type</span>=<span class="string">'html'</span>&gt;</span>Putting an entire chapter on one page sounds</div><div class="line">      bloated, but consider this &amp;mdash; my longest chapter so far</div><div class="line">      would be 75 printed pages, and it loads in under 5 seconds&amp;hellip;</div><div class="line">      On dialup.<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">entry</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">author</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Mark<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">uri</span>&gt;</span>http://diveintomark.org/<span class="tag">&lt;/<span class="name">uri</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">author</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Accessibility is a harsh mistress<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'alternate'</span> <span class="attr">type</span>=<span class="string">'text/html'</span></div><div class="line">      <span class="attr">href</span>=<span class="string">'http://diveintomark.org/archives/2009/03/21/accessibility-is-a-harsh-mistress'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>tag:diveintomark.org,2009-03-21:/archives/20090321200928<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">updated</span>&gt;</span>2009-03-22T01:05:37Z<span class="tag">&lt;/<span class="name">updated</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">published</span>&gt;</span>2009-03-21T20:09:28Z<span class="tag">&lt;/<span class="name">published</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'accessibility'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">summary</span> <span class="attr">type</span>=<span class="string">'html'</span>&gt;</span>The accessibility orthodoxy does not permit people to</div><div class="line">      question the value of features that are rarely useful and rarely used.<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">entry</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">author</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">name</span>&gt;</span>Mark<span class="tag">&lt;/<span class="name">name</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">author</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>A gentle introduction to video encoding, part 1: container formats<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">'alternate'</span> <span class="attr">type</span>=<span class="string">'text/html'</span></div><div class="line">      <span class="attr">href</span>=<span class="string">'http://diveintomark.org/archives/2008/12/18/give-part-1-container-formats'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">id</span>&gt;</span>tag:diveintomark.org,2008-12-18:/archives/20081218155422<span class="tag">&lt;/<span class="name">id</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">updated</span>&gt;</span>2009-01-11T19:39:22Z<span class="tag">&lt;/<span class="name">updated</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">published</span>&gt;</span>2008-12-18T15:54:22Z<span class="tag">&lt;/<span class="name">published</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'asf'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'avi'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'encoding'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'flv'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'GIVE'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'mp4'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'ogg'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">category</span> <span class="attr">scheme</span>=<span class="string">'http://diveintomark.org'</span> <span class="attr">term</span>=<span class="string">'video'</span>/&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">summary</span> <span class="attr">type</span>=<span class="string">'html'</span>&gt;</span>These notes will eventually become part of a</div><div class="line">      tech talk on video encoding.<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">feed</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>先简单的看一下这个XML的结构</p>
            <p class="article-more-link">
                <a href="/article/872.html#more">查看更多</a>
            </p>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/872.html" data-id="civwnhxhn001g9kfgf82ze8l2" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/872.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/872.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-871" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/871.html" target="_blank" >使用python一步一步搭建微信公众平台（一）</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/871.html">
            <time datetime="2013-08-24T11:03:05.000Z" itemprop="datePublished">2013-08-24</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p>最近无聊，想玩玩微信的公众平台，后来发现乐趣无穷啊~</p>
<p>使用的工具，python 新浪SAE平台，微信的公众平台</p>
<p>你需要先在微信的公众平台与新浪SAE平台上各种注册，微信平台注册的时候需要你拍张手持身份证的照片，还有几天的审核期</p>
<p>微信公众平台：<a href="http://mp.weixin.qq.com/" title="微信公众平台">http://mp.weixin.qq.com</a><br></p>
            <p class="article-more-link">
                <a href="/article/871.html#more">查看更多</a>
            </p>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/871.html" data-id="civwnhxlf006l9kfgmnbnpy0x" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/871.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/871.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-870" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/870.html" target="_blank" >python发邮件是件很简单的事情</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/870.html">
            <time datetime="2013-08-07T16:09:33.000Z" itemprop="datePublished">2013-08-08</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>利用python的smtplib，发邮件将是一件非常简单的事情，下文以用163邮箱来发邮件为例，说明smtplib的应用<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding:utf-8</span></div><div class="line"><span class="keyword">import</span> smtplib</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">sendMail</span><span class="params">(mail_to)</span>:</span></div><div class="line">    mail_server = <span class="string">'smtp.163.com'</span></div><div class="line">    mail_port = <span class="string">'25'</span></div><div class="line">    username = <span class="string">'soar_1987@163.com'</span></div><div class="line">    password = <span class="string">'XXXXXXXX'</span></div><div class="line">    mail_title = <span class="string">'python Test'</span></div><div class="line">    mail_content = <span class="string">'This is a test from python for sending email'</span></div><div class="line">    <span class="keyword">if</span> type(mail_to) == str:<span class="comment">#之所以要有这样的判断是为了收件人是多个人或者传入的的收件人列表是以list的方式</span></div><div class="line">        mail_list = mail_to.split(<span class="string">';'</span>) <span class="comment">#将str类型的数据转换为list</span></div><div class="line">    <span class="keyword">elif</span> type(mail_to) == list:</div><div class="line">        mail_list = mail_to</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">print</span> <span class="string">"你输入的收件人格式有误"</span></div><div class="line"></div><div class="line">    <span class="keyword">try</span>:</div><div class="line">        handle = smtplib.SMTP(mail_server,mail_port)</div><div class="line">        handle.login(username,password)</div><div class="line">        msg = <span class="string">"From:%srn To:%srnContent-Type: text/html;charset=gb2312rnSubject:%srnrn %s"</span>%(<span class="string">"杨彦星"</span>,<span class="string">";"</span>.join(mail_list),mail_title,mail_content) <span class="comment">#这里的msg其实就是一种固定的格式，From:To:Subject</span></div><div class="line">        handle.sendmail(username,mail_list,msg)</div><div class="line">        <span class="keyword">print</span> <span class="string">"Send email sucess"</span></div><div class="line">    <span class="keyword">except</span> Exception,e:</div><div class="line">        <span class="keyword">print</span> <span class="string">"Send email failed because %s"</span> % e</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ ==<span class="string">"__main__"</span>:</div><div class="line">    sendMail(<span class="string">'yanxingyang@gmail.com'</span>)</div></pre></td></tr></table></figure></p>

        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/870.html" data-id="civwnhxj3003g9kfgzfnuwvgh" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/870.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/870.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-869" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/869.html" target="_blank" >浮生浪迹笑明月，千愁散尽一剑轻</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/869.html">
            <time datetime="2013-07-09T08:53:48.000Z" itemprop="datePublished">2013-07-09</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/生活记录/">生活记录</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p>最近很喜欢的这对词，出自新版笑傲江湖当东方不败与和令狐冲在田地里，东方姑娘为令狐冲拿发带当剑舞时说出来的</p>
<p>我把它当成签名放在QQ上</p>
<p>面对你所愁的，笑一笑</p>
<p>与其抽刀断水水更流，不如浮生浪迹笑一笑</p>
<p>千愁散尽一剑轻。<br></p>
            <p class="article-more-link">
                <a href="/article/869.html#more">查看更多</a>
            </p>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/869.html" data-id="civwnhxpm00cf9kfgigglxva2" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/869.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/869.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-821" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/821.html" target="_blank" >可爱的python中的一个与递归相关的小问题</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/821.html">
            <time datetime="2013-06-22T17:41:21.000Z" itemprop="datePublished">2013-06-23</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            <p><p>可爱的python一书中有一个练习题，是在一个目录中查找特定扩展名的文件，并且读取里面的内容，然后用户输入一个关键词，在这些文件中进行搜索，如果找到后就把这一行内容打印出来，他提出的问题是如果里面还有目录，目录里面还有更深的目录，解决这个问题，我想到的只能是递归。。。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding:utf-8</span></div><div class="line"><span class="keyword">import</span> os,sys</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">cdGrep</span><span class="params">(keyword,filepath)</span>:</span></div><div class="line">    filelist = os.listdir(filepath)</div><div class="line"></div><div class="line">    <span class="keyword">for</span> cdc <span class="keyword">in</span> filelist:</div><div class="line">        <span class="keyword">if</span> os.path.isdir(cdc):</div><div class="line">            filepath2 = os.path.join(filepath,cdc)</div><div class="line">            cdGrep(keyword,filepath2)</div><div class="line"></div><div class="line">        <span class="keyword">elif</span> <span class="string">'.txt'</span> <span class="keyword">in</span> cdc:</div><div class="line"><span class="comment">#            print filepath+cdc</span></div><div class="line">            f = open(filepath+<span class="string">''</span>+ cdc)</div><div class="line">            <span class="keyword">for</span> line <span class="keyword">in</span> f.readlines():</div><div class="line">                linelower = line.lower()</div><div class="line">                <span class="keyword">if</span> keyword <span class="keyword">in</span> linelower:</div><div class="line"></div><div class="line">                    <span class="keyword">print</span> <span class="string">'您查找的关键词在%s中找到'</span>% (filepath+<span class="string">''</span>+cdc)</div><div class="line">                    <span class="keyword">print</span> line</div><div class="line">                f.close()</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    keword = raw_input(<span class="string">'请输入想要查询的关键字'</span>)</div><div class="line">    pw = os.getcwd()</div><div class="line">    cdGrep(keword,pw)</div></pre></td></tr></table></figure></p></p>
            <p class="article-more-link">
                <a href="/article/821.html#more">查看更多</a>
            </p>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/821.html" data-id="civwnhxmt008u9kfg79ck3adv" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/821.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/821.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-817" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/817.html" target="_blank" >通过一个python小脚本来下载最新的360杀毒安装程序</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/817.html">
            <time datetime="2013-06-03T11:21:12.000Z" itemprop="datePublished">2013-06-03</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>小脚本很简单，主要是练习一下正则匹配，与简单的urllib库的应用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding: utf8</span></div><div class="line"><span class="keyword">import</span> urllib,re</div><div class="line"><span class="keyword">import</span> os</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">getLastinstall</span><span class="params">()</span>:</span></div><div class="line"></div><div class="line">    page = urllib.urlopen(<span class="string">r'http://sd.360.cn/download_center.html'</span>)</div><div class="line">    html = page.read()</div><div class="line">    page.close()</div><div class="line">    rematch = <span class="string">r'http://down.360.cn/360sd/360sd_se_(.*?)exe'</span></div><div class="line">    replusmatch = <span class="string">r'http://down.360.cn/360sd/360sd_plus_(.*?)exe'</span></div><div class="line">    stdname = <span class="string">'360sd_'</span>+(str(re.compile(rematch).findall(html)[<span class="number">0</span>]))+<span class="string">'exe'</span></div><div class="line">    downurlstd = <span class="string">r'http://down.360.cn/360sd/360sd_'</span>+(str(re.compile(rematch).findall(html)[<span class="number">0</span>]))+<span class="string">'exe'</span></div><div class="line">    powname = <span class="string">'360sd_plus_'</span>+(str(re.compile(replusmatch).findall(html)[<span class="number">0</span>]))+<span class="string">'exe'</span></div><div class="line">    downurlpow = <span class="string">r'http://down.360.cn/360sd/360sd_plus_'</span>+(str(re.compile(replusmatch).findall(html)[<span class="number">0</span>]))+<span class="string">'exe'</span></div><div class="line">    localpath = os.getcwd()+<span class="string">r'/installpack'</span></div><div class="line">    <span class="keyword">if</span> <span class="keyword">not</span> (os.path.isfile(stdname) <span class="keyword">and</span> os.path.isfile(powname)):</div><div class="line">        <span class="keyword">if</span> <span class="keyword">not</span> os.path.isdir(<span class="string">'installpack'</span>):</div><div class="line">            os.makedirs(<span class="string">'installpack'</span>)</div><div class="line">        urllib.urlretrieve(downurlstd,localpath+<span class="string">'/'</span>+stdname)</div><div class="line">        urllib.urlretrieve(downurlpow,localpath+<span class="string">'/'</span>+powname)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">print</span> <span class="string">'目录中已经是线上最新版杀毒安装程序'</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ ==<span class="string">'__main__'</span>:</div><div class="line">    getLastinstall()</div></pre></td></tr></table></figure>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/817.html" data-id="civwnhxqn00dy9kfga1xadsjw" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/817.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/817.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-813" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/813.html" target="_blank" >python中的OOP</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/813.html">
            <time datetime="2013-06-01T14:17:55.000Z" itemprop="datePublished">2013-06-01</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>直接上代码，已经在后面有注释了<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding:utf8</span></div><div class="line"></div><div class="line">name = <span class="string">'yangyanxing'</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">()</span>:</span></div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">kevin</span><span class="params">()</span>:</span></div><div class="line">        var1 = <span class="string">'我是内部类'</span></div><div class="line"></div><div class="line">    name = <span class="string">'kvein'</span></div><div class="line">    gae = <span class="string">'26'</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun1</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">print</span> self.name</div><div class="line">        <span class="keyword">print</span> <span class="string">'我是公共方法'</span></div><div class="line">        self.__fun2() <span class="comment">#可以通过公有就去来调用私有方法，在调用的过程中可以进行更改</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__fun2</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'我是私有方法'</span></div><div class="line"></div><div class="line"><span class="meta">    @classmethod</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun3</span><span class="params">(self)</span>:</span> <span class="comment">#可以不通过实例来访问这个类方法</span></div><div class="line">        <span class="keyword">print</span> <span class="string">'#'</span>*<span class="number">40</span></div><div class="line">        <span class="keyword">print</span> self.name</div><div class="line">        <span class="keyword">print</span> <span class="string">'我是类方法'</span></div><div class="line"></div><div class="line"><span class="meta">    @staticmethod #静态方法，也是可以不通过实例对象就可以访问的方法但是在定义的时候不用加self</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun4</span><span class="params">()</span>:</span></div><div class="line">        <span class="keyword">print</span> Test.name</div><div class="line">        <span class="keyword">print</span> name <span class="comment">#这里的name是全局变量</span></div><div class="line">        Test.fun3()</div><div class="line">        <span class="keyword">print</span> <span class="string">'我是静态方法'</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> Test.name <span class="comment">#公有属性可以直接方法，不用实例化对象</span></div><div class="line">yang = Test() <span class="comment">#实例化一个类</span></div><div class="line">interyang = Test.kevin() <span class="comment">#实例化一个内部类</span></div><div class="line">yang.fun1() <span class="comment">#方法类里面的公共属性</span></div><div class="line"><span class="keyword">print</span> interyang.var1 <span class="comment"># 访问内部类里的属性</span></div><div class="line">Test.fun3()<span class="comment">#访问类方法</span></div><div class="line">Test.fun4()</div></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#coding:utf8</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">()</span>:</span></div><div class="line">    var1 = <span class="string">'类的公有属性'</span></div><div class="line">    __var2 = <span class="string">'类的私有属性'</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(self)</span>:</span></div><div class="line">        self.var2 = <span class="string">'对象的公有属性'</span> <span class="comment"># 这里定义了一个对象的公有属性</span></div><div class="line">        self.__var3 = <span class="string">'对象的私有属性'</span><span class="comment"># 这里定义了一个对象的私有属性</span></div><div class="line">        var4 = <span class="string">'函数的局部变量'</span> <span class="comment">#这里定义了一个函数的局部变量，这里面的var4只有在函数内部使用</span></div><div class="line"></div><div class="line">kevin = Test() <span class="comment">#实例了一个对象</span></div><div class="line">yang = Test() <span class="comment">#又实例了另外一个对象</span></div><div class="line"><span class="keyword">print</span> kevin.var1</div><div class="line"><span class="comment">##print kevin.__var2 #这里将无法访问</span></div><div class="line">kevin.fun()</div><div class="line"><span class="keyword">print</span> kevin.var2 <span class="comment">#在没有调用fun函数之前是没有var2的</span></div><div class="line"><span class="comment">##print kevin.__var3 对象的私有属性是无法调用的</span></div><div class="line"><span class="comment">##print yang.var2 #这里因为没有调用yang的fun方法，所以还是无法访问yang里的var2</span></div></pre></td></tr></table></figure>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/813.html" data-id="civwnhxit00319kfgexuy89kz" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/813.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/813.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-809" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/809.html" target="_blank" >想聊点什么吧</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/809.html">
            <time datetime="2013-05-29T16:54:36.000Z" itemprop="datePublished">2013-05-30</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/生活记录/">生活记录</a>
    </div>

                        
                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <p>偶尔地放肆，大声地讲话</p>
<p>我总在说一个字 “想”</p>
<p>我想这，我想那</p>
<p>但结果却总是我想多了</p>
<p>想象那种已经不存在的如果</p>
<p>小时候，你不开心，会有很多小朋友来关心你</p>
<p>长大后，你不开心，却只能自已一个人抗着</p>

        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/809.html" data-id="civwnhxof00av9kfgwouazpw6" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/809.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/809.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <article id="post-806" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
    
        <h1 itemprop="name">
            <a class="article-title" href="/article/806.html" target="_blank" >一个python的小脚本登录人人并抓取新鲜事</a>
        </h1>
    

                
                    <div class="article-meta">
                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/article/806.html">
            <time datetime="2013-05-28T16:30:48.000Z" itemprop="datePublished">2013-05-29</time>
        </a>
    </div>


                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Python/">Python</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/python/">python</a>
    </div>

                    </div>
                
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
            
            <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> sgmllib <span class="keyword">import</span> SGMLParser</div><div class="line"><span class="keyword">import</span> sys,urllib2,urllib,cookielib</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">spider</span><span class="params">(SGMLParser)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,email,password)</span>:</span></div><div class="line">        SGMLParser.__init__(self)</div><div class="line">        self.h3=<span class="keyword">False</span></div><div class="line">        self.h3_is_ready=<span class="keyword">False</span></div><div class="line">        self.div=<span class="keyword">False</span></div><div class="line">        self.h3_and_div=<span class="keyword">False</span></div><div class="line">        self.a=<span class="keyword">False</span></div><div class="line">        self.depth=<span class="number">0</span></div><div class="line">        self.names=<span class="string">""</span></div><div class="line">        self.dic=&#123;&#125;</div><div class="line"></div><div class="line">        self.email=email</div><div class="line">        self.password=password</div><div class="line">        self.domain=<span class="string">'renren.com'</span></div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            cookie=cookielib.CookieJar()</div><div class="line">            cookieProc=urllib2.HTTPCookieProcessor(cookie)</div><div class="line">        <span class="keyword">except</span>:</div><div class="line">            <span class="keyword">raise</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            opener=urllib2.build_opener(cookieProc)</div><div class="line">            urllib2.install_opener(opener)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">(self)</span>:</span></div><div class="line">        url=<span class="string">'http://www.renren.com/PLogin.do'</span></div><div class="line">        postdata=&#123;</div><div class="line">                  <span class="string">'email'</span>:self.email,</div><div class="line">                  <span class="string">'password'</span>:self.password,</div><div class="line">                  <span class="string">'domain'</span>:self.domain</div><div class="line">                  &#125;</div><div class="line">        req=urllib2.Request(</div><div class="line">                            url,</div><div class="line">                            urllib.urlencode(postdata)</div><div class="line">                            )</div><div class="line"></div><div class="line">        self.file=urllib2.urlopen(req).read()</div><div class="line">        <span class="comment">#print self.file</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_h3</span><span class="params">(self,attrs)</span>:</span></div><div class="line">        self.h3 = <span class="keyword">True</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">end_h3</span><span class="params">(self)</span>:</span></div><div class="line">        self.h3=<span class="keyword">False</span></div><div class="line">        self.h3_is_ready=<span class="keyword">True</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_a</span><span class="params">(self,attrs)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.h3 <span class="keyword">or</span> self.div:</div><div class="line">            self.a=<span class="keyword">True</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">end_a</span><span class="params">(self)</span>:</span></div><div class="line">        self.a=<span class="keyword">False</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">start_div</span><span class="params">(self,attrs)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.h3_is_ready == <span class="keyword">False</span>:</div><div class="line">            <span class="keyword">return</span></div><div class="line">        <span class="keyword">if</span> self.div==<span class="keyword">True</span>:</div><div class="line">            self.depth += <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> k,v <span class="keyword">in</span> attrs:</div><div class="line">            <span class="keyword">if</span> k == <span class="string">'class'</span> <span class="keyword">and</span> v == <span class="string">'content'</span>:</div><div class="line">                self.div=<span class="keyword">True</span>;</div><div class="line">                self.h3_and_div=<span class="keyword">True</span>   <span class="comment">#h3 and div is connected</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">end_div</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">if</span> self.depth == <span class="number">0</span>:</div><div class="line">            self.div=<span class="keyword">False</span></div><div class="line">            self.h3_and_div=<span class="keyword">False</span></div><div class="line">            self.h3_is_ready=<span class="keyword">False</span></div><div class="line">            self.names=<span class="string">""</span></div><div class="line">        <span class="keyword">if</span> self.div == <span class="keyword">True</span>:</div><div class="line">            self.depth-=<span class="number">1</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle_data</span><span class="params">(self,text)</span>:</span></div><div class="line">        <span class="comment">#record the name</span></div><div class="line">        <span class="keyword">if</span> self.h3 <span class="keyword">and</span> self.a:</div><div class="line">            self.names+=text</div><div class="line">        <span class="comment">#record says</span></div><div class="line">        <span class="keyword">if</span> self.h3 <span class="keyword">and</span> (self.a==<span class="keyword">False</span>):</div><div class="line">            <span class="keyword">if</span> <span class="keyword">not</span> text:<span class="keyword">pass</span></div><div class="line">            <span class="keyword">else</span>: self.dic.setdefault(self.names,[]).append(text)</div><div class="line">            <span class="keyword">return</span></div><div class="line">        <span class="keyword">if</span> self.h3_and_div:</div><div class="line">            self.dic.setdefault(self.names,[]).append(text)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span><span class="params">(self)</span>:</span></div><div class="line">        type = sys.getfilesystemencoding()</div><div class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> self.dic:</div><div class="line">            <span class="keyword">print</span> ( (<span class="string">''</span>.join(key)).replace(<span class="string">' '</span>,<span class="string">''</span>)).decode(<span class="string">'utf-8'</span>).encode(type),</div><div class="line">                  ( (<span class="string">''</span>.join(self.dic[key])).replace(<span class="string">' '</span>,<span class="string">''</span>)).decode(<span class="string">'utf-8'</span>).encode(type)</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ ==<span class="string">'__main__'</span>:</div><div class="line">    renrenspider=spider(<span class="string">'email'</span>,<span class="string">'password'</span>)</div><div class="line">    renrenspider.login()</div><div class="line">    renrenspider.feed(renrenspider.file)</div><div class="line">    renrenspider.show()</div></pre></td></tr></table></figure>
        

        

        </div>
        <footer class="article-footer">
            <div class="share-container">



</div>

    <a data-url="http://www.yangyanxing.com/article/806.html" data-id="civwnhxjs004i9kfgyfeygs7l" class="article-share-link"><i class="fa fa-share"></i>分享到</a>
<script>
    (function ($) {
        // Prevent duplicate binding
        if (typeof(__SHARE_BUTTON_BINDED__) === 'undefined' || !__SHARE_BUTTON_BINDED__) {
            __SHARE_BUTTON_BINDED__ = true;
        } else {
            return;
        }
        $('body').on('click', function() {
            $('.article-share-box.on').removeClass('on');
        }).on('click', '.article-share-link', function(e) {
            e.stopPropagation();

            var $this = $(this),
                url = $this.attr('data-url'),
                encodedUrl = encodeURIComponent(url),
                id = 'article-share-box-' + $this.attr('data-id'),
                offset = $this.offset(),
                box;

            if ($('#' + id).length) {
                box = $('#' + id);

                if (box.hasClass('on')){
                    box.removeClass('on');
                    return;
                }
            } else {
                var html = [
                    '<div id="' + id + '" class="article-share-box">',
                      '<input class="article-share-input" value="' + url + '">',
                      '<div class="article-share-links">',
                        '<a href="http://service.weibo.com/share/share.php?appkey=3655160394&url=' + encodedUrl + '" class="fa fa-weibo article-share-weibo" target="_blank" title="Weibo"></a>',
                        '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="fa fa-twitter article-share-twitter" target="_blank" title="Twitter"></a>',
                        '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="fa fa-facebook article-share-facebook" target="_blank" title="Facebook"></a>',
                        '<a href="https://plus.google.com/share?url=' + encodedUrl + '" class="fa fa-google article-share-google" target="_blank" title="Google+"></a>',
                      '</div>',
                    '</div>'
                ].join('');

              box = $(html);

              $('body').append(box);
            }

            $('.article-share-box.on').hide();

            box.css({
                top: offset.top + 25,
                left: offset.left
            }).addClass('on');

        }).on('click', '.article-share-box', function (e) {
            e.stopPropagation();
        }).on('click', '.article-share-box-input', function () {
            $(this).select();
        }).on('click', '.article-share-box-link', function (e) {
            e.preventDefault();
            e.stopPropagation();

            window.open(this.href, 'article-share-box-window-' + Date.now(), 'width=500,height=450');
        });
    })(jQuery);
</script>

            
    
        <a href="http://www.yangyanxing.com/article/806.html#comments" class="article-comment-link ds-thread-count" data-thread-key="http://www.yangyanxing.com/article/806.html">评论</a>
    

        </footer>
    </div>
    
</article>



    <nav id="page-nav">
        <a class="extend prev" rel="prev" href="/page/6/">&laquo; 上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/21/">21</a><a class="extend next" rel="next" href="/page/8/">下一页 &raquo;</a>
    </nav>
</section>
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/article/use-mac-mount-ntfs-disk.html" class="thumbnail">
  
    <span style="background-image:url(http://ww3.sinaimg.cn/large/795ab47fgw1f5r3wnz6h8j20pm0i3wjm.jpg
)" alt="在MAC下加载NTFS移动硬盘或者U盘" class="thumbnail-image"></span>
  
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/mac/">mac</a></p>
                            <p class="item-title"><a href="/article/use-mac-mount-ntfs-disk.html" class="title">在MAC下加载NTFS移动硬盘或者U盘</a></p>
                            <p class="item-date"><time datetime="2016-07-12T05:49:01.000Z" itemprop="datePublished">2016-07-12</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/article/first-use-Xposed.html" class="thumbnail">
  
    <span style="background-image:url(http://static.yangyanxing.com/wp-content/uploads/xposed.jpg
)" alt="Xposed框架初体验" class="thumbnail-image"></span>
  
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/Android/">Android</a></p>
                            <p class="item-title"><a href="/article/first-use-Xposed.html" class="title">Xposed框架初体验</a></p>
                            <p class="item-date"><time datetime="2016-06-11T16:05:17.000Z" itemprop="datePublished">2016-06-12</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/article/use-wireshark-capture-https.html" class="thumbnail">
  
    <span style="background-image:url(http://static.yangyanxing.com/wp-content/uploads/Setting-wireshark-protols.png
)" alt="使用wireshark抓取解密https包" class="thumbnail-image"></span>
  
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/计算机相关/">计算机相关</a></p>
                            <p class="item-title"><a href="/article/use-wireshark-capture-https.html" class="title">使用wireshark抓取解密https包</a></p>
                            <p class="item-date"><time datetime="2016-06-11T14:40:07.000Z" itemprop="datePublished">2016-06-11</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/article/display-host-clumn-in-wireshark.html" class="thumbnail">
  
    <span style="background-image:url(http://static.yangyanxing.com/wp-content/uploads/wireshark.jpg
)" alt="在wireshark上显示host" class="thumbnail-image"></span>
  
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/计算机相关/">计算机相关</a></p>
                            <p class="item-title"><a href="/article/display-host-clumn-in-wireshark.html" class="title">在wireshark上显示host</a></p>
                            <p class="item-date"><time datetime="2016-06-10T14:19:45.000Z" itemprop="datePublished">2016-06-10</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/article/https-basic.html" class="thumbnail">
  
    <span style="background-image:url(http://static.yangyanxing.com/wp-content/uploads/https.jpg
)" alt="HTTPS理论基础" class="thumbnail-image"></span>
  
</a>
                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/计算机相关/">计算机相关</a></p>
                            <p class="item-title"><a href="/article/https-basic.html" class="title">HTTPS理论基础</a></p>
                            <p class="item-date"><time datetime="2016-06-09T07:51:32.000Z" itemprop="datePublished">2016-06-09</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/IT关注/">IT关注</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux相关/">Linux相关</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">36</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/mac/">mac</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/web/">web</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/喜欢的音乐/">喜欢的音乐</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/我的大学/">我的大学</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活记录/">生活记录</a><span class="category-list-count">105</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机相关/">计算机相关</a><span class="category-list-count">11</span></li></ul>
        </div>
    </div>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title">标签云</h3>
        <div class="widget tagcloud">
            <a href="/tags/Android/" style="font-size: 11.67px;">Android</a> <a href="/tags/PHP/" style="font-size: 11.67px;">PHP</a> <a href="/tags/ThinkPHP/" style="font-size: 15px;">ThinkPHP</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/android/" style="font-size: 18.33px;">android</a> <a href="/tags/java/" style="font-size: 11.67px;">java</a> <a href="/tags/javascript/" style="font-size: 11.67px;">javascript</a> <a href="/tags/jquery/" style="font-size: 10px;">jquery</a> <a href="/tags/linux/" style="font-size: 11.67px;">linux</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/requests/" style="font-size: 10px;">requests</a> <a href="/tags/sql/" style="font-size: 11.67px;">sql</a> <a href="/tags/webpy/" style="font-size: 13.33px;">webpy</a> <a href="/tags/wordpress/" style="font-size: 10px;">wordpress</a> <a href="/tags/xml/" style="font-size: 10px;">xml</a> <a href="/tags/安全/" style="font-size: 15px;">安全</a> <a href="/tags/微博/" style="font-size: 10px;">微博</a> <a href="/tags/自动化测试/" style="font-size: 16.67px;">自动化测试</a>
        </div>
    </div>

    
        
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="http://www.liaoxuefeng.com/" target="_blank">廖雪峰</a>
                    </li>
                
                    <li>
                        <a href="http://blog.csdn.net/itfootball" target="_blank">D.Q的专栏</a>
                    </li>
                
                    <li>
                        <a href="http://opentest.360.cn/" target="_blank">360开测</a>
                    </li>
                
                    <li>
                        <a href="https://testerhome.com/" target="_blank">TesterHome</a>
                    </li>
                
                    <li>
                        <a href="http://www.androiddevtools.cn/" target="_blank">AndroidDev</a>
                    </li>
                
                    <li>
                        <a href="http://blog.csdn.net/guolin_blog" target="_blank">郭霖的专栏</a>
                    </li>
                
                    <li>
                        <a href="http://coolshell.cn/" target="_blank">酷壳</a>
                    </li>
                
                    <li>
                        <a href="http://www.ruanyifeng.com/blog/archives.html" target="_blank">阮一峰</a>
                    </li>
                
                    <li>
                        <a href="http://stormzhang.com/" target="_blank">stormzhang博客</a>
                    </li>
                
            </ul>
        </div>
    </div>


    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>
            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2016 杨彦星|京ICP备14005669号-1<br>
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>. Theme by <a href="http://github.com/ppoffice">PPOffice</a>
            <script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1257423854'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s95.cnzz.com/z_stat.php%3Fid%3D1257423854%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script>
        </div>
    </div>
</footer>
        
    
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'yangyanxing'};
    (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
    || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>



    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>